<!DOCTYPE html>
<html lang="es">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Der Die Das</title>
        <link rel="icon" type="image/svg+xml" href="favicon.svg">
        <link rel="alternate icon" href="favicon.svg">
    <link rel="stylesheet" href="styles.css">
</head>
<body>
    <div class="container">
        <header>
            <h1>Der Die Das</h1>
            <p class="subtitle">¡Descubre los géneros de las palabras!</p>
        </header>

        <div class="user-controls">
            <div class="user-row">
                <label for="user-select">👤 Usuario:</label>
                <select id="user-select"></select>
                <input type="text" id="new-user-name" placeholder="Nuevo usuario" aria-label="Nuevo usuario" />
                <button id="add-user-btn">Añadir</button>
                <button id="reset-user-btn" class="danger">Reiniciar</button>
            </div>
        </div>

        <nav class="nav-tabs">
            <button class="nav-btn active" data-tab="practice">🎯 Practicar</button>
            <button class="nav-btn" data-tab="stats">📊 Estadísticas</button>
            <button class="nav-btn" data-tab="progress">🏆 Progreso</button>
            <button class="nav-btn" data-tab="help">❓ Ayuda</button>
        </nav>

        <!-- Sección de Práctica -->
        <section id="practice" class="tab-content active">
            <div class="level-indicator">
                <div class="level-info">
                    <span class="streak">🔥 Racha: <span id="streak-count">0</span></span>
                </div>
                <div class="progress-bar" aria-label="Progreso de sesión">
                    <div class="progress-fill" id="session-progress"></div>
                </div>
            </div>

            <div class="quiz-card">
                <div class="word-display">
                    <div class="word-row">
                        <span id="word-icon" class="word-icon" aria-hidden="true">🏠</span>
                        <h2 id="current-word">Haus</h2>
                    </div>
                    <p class="word-translation" id="current-translation">(casa)</p>
                </div>

                <div class="gender-options">
                    <button class="gender-btn" data-gender="der">
                        <span class="article">der</span>
                        <span class="gender-label">Masculino</span>
                    </button>
                    <button class="gender-btn" data-gender="die">
                        <span class="article">die</span>
                        <span class="gender-label">Femenino</span>
                    </button>
                    <button class="gender-btn" data-gender="das">
                        <span class="article">das</span>
                        <span class="gender-label">Neutro</span>
                    </button>
                </div>

                <div class="feedback" id="feedback"></div>
            </div>

            <div class="session-stats">
                <div class="stat-box">
                    <span class="stat-value" id="session-correct">0</span>
                    <span class="stat-label">✅ Correctas</span>
                </div>
                <div class="stat-box">
                    <span class="stat-value" id="session-total">0</span>
                    <span class="stat-label">📝 Total</span>
                </div>
                <div class="stat-box">
                    <span class="stat-value" id="session-accuracy">100%</span>
                    <span class="stat-label">🎯 Precisión</span>
                </div>
            </div>
        </section>

        <!-- Sección de Estadísticas -->
        <section id="stats" class="tab-content">
            <h2>📊 Tus Estadísticas</h2>
            
            <div class="stats-grid">
                <div class="stat-card">
                    <div class="stat-icon">📚</div>
                    <div class="stat-number" id="total-words-learned">0</div>
                    <div class="stat-title">Palabras Aprendidas</div>
                </div>
                <div class="stat-card">
                    <div class="stat-icon">⭐</div>
                    <div class="stat-number" id="total-correct">0</div>
                    <div class="stat-title">Respuestas Correctas</div>
                </div>
                <div class="stat-card">
                    <div class="stat-icon">💪</div>
                    <div class="stat-number" id="best-streak">0</div>
                    <div class="stat-title">Mejor Racha</div>
                </div>
                <div class="stat-card">
                    <div class="stat-icon">🎯</div>
                    <div class="stat-number" id="overall-accuracy">0%</div>
                    <div class="stat-title">Precisión Total</div>
                </div>
            </div>

            <div class="gender-breakdown">
                <h3>Precisión por Género</h3>
                <div class="gender-stats">
                    <div class="gender-stat-item">
                        <div class="gender-stat-header">
                            <span class="gender-label-der">der (Masculino)</span>
                            <span class="gender-accuracy" id="der-accuracy">0%</span>
                        </div>
                        <div class="gender-progress-bar">
                            <div class="gender-progress-fill der-fill" id="der-progress"></div>
                        </div>
                    </div>
                    <div class="gender-stat-item">
                        <div class="gender-stat-header">
                            <span class="gender-label-die">die (Femenino)</span>
                            <span class="gender-accuracy" id="die-accuracy">0%</span>
                        </div>
                        <div class="gender-progress-bar">
                            <div class="gender-progress-fill die-fill" id="die-progress"></div>
                        </div>
                    </div>
                    <div class="gender-stat-item">
                        <div class="gender-stat-header">
                            <span class="gender-label-das">das (Neutro)</span>
                            <span class="gender-accuracy" id="das-accuracy">0%</span>
                        </div>
                        <div class="gender-progress-bar">
                            <div class="gender-progress-fill das-fill" id="das-progress"></div>
                        </div>
                    </div>
                </div>
            </div>

            <div class="recent-activity">
                <h3>Actividad Reciente</h3>
                <div id="activity-log"></div>
            </div>
        </section>

        <!-- Sección de Progreso -->
        <section id="progress" class="tab-content">
            <h2>🏆 Tu Progreso</h2>
            
            <div class="achievement-section">
                <h3>🎖️ Logros Desbloqueados</h3>
                <div class="achievements-grid" id="achievements-grid"></div>
            </div>

            <div class="words-mastery">
                <h3>📖 Dominio de Palabras</h3>
                <div class="mastery-filter">
                    <button class="filter-btn active" data-filter="all">Todas</button>
                    <button class="filter-btn" data-filter="mastered">Dominadas</button>
                    <button class="filter-btn" data-filter="learning">Aprendiendo</button>
                    <button class="filter-btn" data-filter="new">Nuevas</button>
                </div>
                <div class="words-list" id="words-list"></div>
            </div>
        </section>
    </div>

    <!-- Sección de Ayuda -->
    <section id="help" class="tab-content">
        <h2>❓ Ayuda</h2>
        <div class="gender-breakdown">
            <h3>Cómo jugar</h3>
            <p><strong>Objetivo:</strong> Aprende a elegir el artículo correcto para cada palabra en alemán: <em>der</em> (masculino), <em>die</em> (femenino) o <em>das</em> (neutro).</p>
            <ul>
                <li>Lee la palabra alemana y su traducción al español.</li>
                <li>Selecciona el artículo correcto: <strong>der</strong>, <strong>die</strong> o <strong>das</strong>.</li>
                <li>Si aciertas, verás un mensaje de éxito y pasarás a la siguiente palabra.</li>
                <li>Si fallas, se mostrará la opción correcta y tendrás más tiempo para revisarla.</li>
            </ul>
        </div>

        <div class="gender-breakdown">
            <h3>Cómo cambian los estados de las palabras</h3>
            <ul>
                <li><strong>Nueva</strong>: aún no has practicado la palabra.</li>
                <li><strong>Aprendiendo</strong>: has practicado la palabra; su maestría sube con cada acierto.</li>
                <li><strong>Dominada</strong>: alcanza ≥80% de maestría (aciertos/total y consistencia).</li>
                <li>Las palabras nuevas/difíciles salen más a menudo; las dominadas aparecen de vez en cuando.</li>
            </ul>
        </div>

        <div class="gender-breakdown">
            <h3>Sistema adaptativo</h3>
            <ul>
                <li>Las palabras nuevas o difíciles aparecen más a menudo.</li>
                <li>Al mejorar, aparecen con menos frecuencia.</li>
                <li>La barra de progreso refleja el porcentaje de aciertos de la sesión.</li>
            </ul>
        </div>

        <div class="gender-breakdown">
            <h3>Progreso y usuarios</h3>
            <ul>
                <li>Todo tu progreso se guarda automáticamente.</li>
                <li>Puedes crear y cambiar de usuario en la parte superior.</li>
                <li>Puedes reiniciar el progreso de un usuario con el botón “Reiniciar”.</li>
                <li>Atajos de teclado: 1 = der, 2 = die, 3 = das.</li>
            </ul>
            <p>¡Diviértete y aprende! 🇩🇪✨</p>
        </div>
    </section>

    <script src="script.js"></script>
</body>
</html>

